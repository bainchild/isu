local a,b,c,d,e,f,g,h,i=assert,typeof or type,coroutine.running,next,getmetatable,setmetatable,Instance and Instance.new,game and game:GetService("TweenService"),game.Destroying.Connect;local j=i(game.Destroying,function()end).Disconnect;local k={}local l,m,n,o,p={__mode='k'},{__mode='v'},{__mode='kv'},{'obj','st','efc','unm','evt','trs','anm','sbc','sub'},{tt='Subscription',__call=function(q,r)return r and q.represents.updater(r)or q.value end}local s=f({},l)local function t(q,u)local v={}for w,x in d,q do v[w]=b(x)=='table'and u and t(x,u)or x end;return v end;local y,z,A,B=function(C)return f({v=C},m)end,function()return{stk={},coro=f({},n),rst=function(D)D.coro[c()]=0 end,inc=function(D)local E=c()D.coro[E]=D.coro[E]+1;return D:at(D.coro[E]),D.coro[E]end,frz=function(D)a(not D.fi or D.fi==#D.stk,'Variadic accumulation has been detected during composition. Make sure that you are not conditionally invoking hooks')D.fi=#D.stk end,at=function(D,F)return D.stk[F]end,set=function(D,F,G)D.stk[F]=G end,add=function(D,G)D.stk[#D.stk+1]=G;return G end}end,function(H)local I=c()s[I]=H;return s[I]end,function()return s[c()]end;local function J(K,L)local M=B()A(K)local N=L()A(M)return N end;local function O(P)local Q=B()a(Q.opts[P]or Q.opts.all,'"'..P..'" is not enabled in this component builder')end;local R;do local function S(T,U)local V=b(T)=='Instance'and T or g(T)for w,x in d,U do if b(w)=='number'then x().Parent=V else local q=b(x)=='table'and e(x)if q and q.tt=='Subscription'then V[w]=x.value else V[w]=x end end end;return V end;function R(T,U)a(g,'Instance creation is not supported.')local K=B()local W=K.obj:inc()if not W then U=U or{}W=S(T,U)K.obj:add(W)i(W.Destroying,function()for X,Y in d,K.unm.stk do Y()end end)end;for X,Z in d,K.evt.stk do Z.connection=i(W[Z.name],Z.fn)end;return W end end;local function _(a0,a1,a2,a3)a(h,'Tweening is not supported.')local a4;local function a5(a6)a4=a6 end;local a7=h:Create(a0,TweenInfo.new(a3.fn(a2,a5)),{[a1]=a2})if a4 then i(a7.Completed,a4)end;a7:Play()return true end;local function a8(a9,aa)for w,x in d,aa do if b(w)~='number'then local K=B()local ab,ac=b(a9[w]),b(x)if ac=='table'then local ad=e(x)if ad and ad.tt then if ad.tt=='Subscription'then x.represents.listeners[w]=function(ae)a9[w]=ae end;a9[w]=x.value end else a9[w]=x end elseif ab~=ac then a9[w]=x elseif K.ani[w]then for X,G in d,K.anm.stk do if G.name==w then _(a9,w,K.ani[w],G)end end elseif a9[w]~=x then local af={}for X,G in d,K.trs.stk do if G.name==w then af[w]=_(a9,w,x,G)end end;if not af[w]then a9[w]=x end end else x()end end;return a9 end;k.useState,k.useEffect,k.useEvent,k.useTransition,k.useAnimation,k.useSubscription,k.useTriggerableRender,k.builder=function(C)local K=B()local W,F=K.st:inc()if W then return W.value,W.updater else local ag;ag=K.st:add({value=C,updater=function(ae)if K.st:at(F).value~=ae then ag.value=ae;K.render()end end})return ag.value,ag.updater end end,function(L,ah)local K=B()local W=K.efc:inc()if not W then K.efc:add({fn=L,states=ah or{}})elseif ah then for F=1,#ah do if W.st[F]~=ah[F]then W.fn()break end end end end,function(ai,aj)O('useEvent')local K=B()local W=K.evt:inc()if W then j(W.connection)W.connection=nil;W.fn=aj else K.evt:add({name=ai,fn=aj})end end,function(ak,al)O('useTransition')local K=B()local W=K.trs:inc()if not W then K.trs:add({name=ak,fn=al})end end,function(ak,al)O('useAnimation')local K=B()return K.anm:inc()or K.anm:add({name=ak,fn=al,perform=function(ae)K.ani[ak]=ae end}).perform end,function(C)O('useSubscription')local K=B()local W,F=K.sub:inc()if W then return W.proxy,W.updater else local am={listeners={},value=C}am.proxy=f({value=C,represents=am},p)am.updater=function(ae)if K.sub:at(F).value~=ae then am.value=ae;am.proxy.value=ae;for X,an in d,am.listeners do an(ae)end end;return ae end;K.sub:add(am)return am.proxy,W.updater end end,function()return B().render end,function(ao,ap,aq)aq=aq or{}return function(ar,as)return function(at)a(not aq.hydration or as,'Hydration requires object parameter.')local au={opts=aq,prev=y(),props=at,ani={}}if B()then local av=B()local W=av.sbc:inc()if W then W.props=at;return W.render else av.sbc:add(au)end end;for F=1,#o do au[o[F]]=z()end;au.render=coroutine.wrap(function()while true do coroutine.yield(J(au,function()for F=1,#o do au[o[F]]:rst()end;local T,aw=ar(au.props)a(b(T)=='string'and b(aw)=='table','Fenderer must return a classname and properties')for F=1,#o do local ax=o[F]if ax~='obj'then au[ax]:frz()end end;local V=ao(as or T,aw)ap(V,aw)if not au.prev.v or not au.prev.v and as then au.prev.v=V;for X,ay in d,au.efc.stk do local Y=ay.fn()if Y and not au.unm:inc()then au.unm:add(Y)end end end;if aq.useAnimation then au.ani={}end;return V end))end end)return au.render end end end;local az=k.builder(R,a8,{all=true})function k.component(ar)return az(ar)end;local aA=k.builder(R,a8,{hydration=true,all=true})function k.hydrate(aB,ar,at)aA(ar,aB)(at)()end;return k