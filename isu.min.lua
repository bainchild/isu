local a,b,c,d,e,f,g,h=assert,type,coroutine.running,next,setmetatable,Instance and Instance.new,game and game:GetService'TweenService',game and game.Close.Connect local i,j,k,l,m,n,o=game and h(game.Close,function()end).Disconnect,{},{__mode='k'},{__mode='v'},{__mode='kv'},{'obj','st','efc','unm','evt','trs','anm','sbc','sub'},{__call=function(i,j)return j and i.represents.updater(j)or i.value end}local p=e({},k)local q,r,s,t=function(q)return e({v=q},l)end,function()return{stk={},coro=e({},m),rst=function(q)q.coro[c()]=0 end,inc=function(q)local r=c()q.coro[r]=q.coro[r]+1 return q:at(q.coro[r]),q.coro[r]end,frz=function(q)a(not q.fi or q.fi==#q.stk,"Conditional hooks aren't allowed.")q.fi=#q.stk end,at=function(q,r)return q.stk[r]end,set=function(q,r,s)q.stk[r]=s end,add=function(q,r)q.stk[#q.stk+1]=r return r end}end,function(q)local r=c()p[r]=q return p[r]end,function()return p[c()]end local u=function(u,v)local w=t()s(u)local x=v()s(w)return x end local v=function(v)local w=t()a(w.opts[v]or w.opts.all,'"'..v..'" is not enabled.')end local w=function(w,x)a(f,'Instance creation is not supported.')local y=t()local z=y.obj:inc()if not z then z=b(w)=='userdata'and w or f(w)for A,B in d,x or{}do if b(A)=='number'then B().Parent=z else z[A]=(b(B)=='table'and B._sub)and B.value or B end end y.obj:add(z)h(z.Destroying,function()for C,D in d,y.unm.stk do D()end end)end for A,B in d,y.evt.stk do B.connection=h(z[B.name],B.fn)end return z end local x=function(x,y,z,A)a(g,'Tweening is not supported.')local B local C=function(C)B=C end local D=g:Create(x,TweenInfo.new(A.fn(z,C)),{[y]=z})if B then h(D.Completed,B)end D:Play()return true end local y=function(y,z)for A,B in d,z do if b(A)~='number'then local C,D,E=t(),b(y[A]),b(B)if E=='table'then if B._sub then B.represents.listeners[A]=function(F)y[A]=F end y[A]=B.value else y[A]=B end elseif D~=E then y[A]=B elseif C.ani[A]then for F,G in d,C.anm.stk do if G.name==A then x(y,A,C.ani[A],G)end end elseif y[A]~=B then local F={}for G,H in d,C.trs.stk do if H.name==A then F[A]=x(y,A,B,H)end end if not F[A]then y[A]=B end end else B()end end return y end j.useState,j.useEffect,j.useEvent,j.useTransition,j.useAnimation,j.useSubscription,j.useTriggerableRender,j.builder=function(z)local A=t()local B,C=A.st:inc()if B then return B.value,B.updater else local D D=A.st:add{value=z,updater=function(E)if A.st:at(C).value~=E then D.value=E A.render()end end}return D.value,D.updater end end,function(z,A)local B=t()local C=B.efc:inc()if not C then B.efc:add{fn=z,states=A or{}}elseif A then for D=1,#A do if C.st[D]~=A[D]then C.fn()break end end end end,function(z,A)v'useEvent'local B=t()local C=B.evt:inc()if C then i(C.connection)C.connection=nil C.fn=A else B.evt:add{name=z,fn=A}end end,function(z,A)v'useTransition'local B=t()local C=B.trs:inc()if not C then B.trs:add{name=z,fn=A}end end,function(z,A)v'useAnimation'local B=t()return(B.anm:inc()or B.anm:add{name=z,fn=A,perform=function(C)B.ani[z]=C end}).perform end,function(z)v'useSubscription'local A=t()local B,C=A.sub:inc()if B then return B.proxy,B.updater else local D={listeners={},value=z,_sub=true}D.proxy=e({value=z,represents=D},o)D.updater=function(E)if A.sub:at(C).value~=E then D.value=E D.proxy.value=E for F,G in d,D.listeners do G(E)end end return E end A.sub:add(D)return D.proxy,B.updater end end,function()return t().render end,function(z,A,B)B=B or{}return function(C,D)return function(E)a(not B.hydration or D,'Hydration requires object parameter.')local F={opts=B,prev=q(),props=E,ani={}}if t()then local G=t()local H=G.sbc:inc()if H then H.props=E return H.render else G.sbc:add(F)end end for G=1,#n do F[n[G]]=r()end F.render=coroutine.wrap(function()while true do coroutine.yield(u(F,function()for G=1,#n do F[n[G]]:rst()end local G,H=C(F.props)a(b(G)=='string'and b(H)=='table','Renderer must return a class and properties')for I=1,#n do local J=n[I]if J~='obj'then F[J]:frz()end end local I=z(D or G,H)A(I,H)if not F.prev.v or(not F.prev.v and D)then F.prev.v=I for J,K in d,F.efc.stk do local L=K.fn()if L and not F.unm:inc()then F.unm:add(L)end end end if B.useAnimation then F.ani={}end return I end))end end)return F.render end end end local z,A=j.builder(w,y,{all=true}),j.builder(w,y,{hydration=true,all=true})j.component,j.hydrate=function(B)return z(B)end,function(B,C,D)A(C,B)(D)()end return j